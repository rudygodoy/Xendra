<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="Formato12_1" pageWidth="595" pageHeight="842" columnWidth="535" leftMargin="30" rightMargin="30" topMargin="20" bottomMargin="20" uuid="8457d77a-0a68-4bd0-84cf-fb35d6244b45">
  <property name="Description" value="Formato13_1.jrxml" />
  <property name="FileName" value="Formato13_1.jrxml" />
  <property name="Synchronized" value="2017-06-06 22:10:31.343" />
  <property name="Identifier" value="6b0f3e35-fd57-4fe9-a5b3-c6809ab9f3be" />
  <property name="ireport.scriptlethandling" value="0" />
  <property name="ireport.encoding" value="UTF-8" />
  <property name="ireport.zoom" value="1.5" />
  <property name="ireport.x" value="297" />
  <property name="ireport.y" value="278" />
  <import value="net.sf.jasperreports.engine.*" />
  <import value="net.sf.jasperreports.engine.data.*" />
  <import value="java.util.*" />
  <parameter name="AD_Client_ID" class="java.math.BigDecimal">
    <defaultValueExpression><![CDATA[new BigDecimal(1000026)]]></defaultValueExpression>
  </parameter>
  <parameter name="AD_Org_ID" class="java.math.BigDecimal">
    <defaultValueExpression><![CDATA[new BigDecimal(0)]]></defaultValueExpression>
  </parameter>
  <parameter name="C_AcctSchema_ID" class="java.math.BigDecimal">
    <defaultValueExpression><![CDATA[new BigDecimal(1000026)]]></defaultValueExpression>
  </parameter>
  <parameter name="C_Period_ID" class="java.math.BigDecimal">
    <defaultValueExpression><![CDATA[new BigDecimal(1000445)]]></defaultValueExpression>
  </parameter>
  <parameter name="M_Product_ID" class="java.math.BigDecimal">
    <defaultValueExpression><![CDATA[new BigDecimal(0)]]></defaultValueExpression>
  </parameter>
  <parameter name="M_Warehouse_ID" class="java.math.BigDecimal">
    <defaultValueExpression><![CDATA[new BigDecimal(1000095)]]></defaultValueExpression>
  </parameter>
  <queryString><![CDATA[-- SALDO INICIAL
SELECT
--titulo
(SELECT p.name FROM c_period p
    WHERE p.c_period_id = $P{C_Period_ID}) as periodo,
(SELECT CASE WHEN $P{AD_Org_ID}=0 THEN ci.taxid ELSE oi.taxid END FROM ad_orginfo oi
JOIN ad_clientinfo ci on ci.ad_client_id = oi.ad_client_id
WHERE ci.ad_client_id = $P{AD_Client_ID} LIMIT 1)  as ruc,
(SELECT CASE WHEN $P{AD_Org_ID}=0 THEN c.description ELSE o.description END FROM ad_org o
JOIN ad_client c on c.ad_client_id = o.ad_client_id
WHERE c.ad_client_id = $P{AD_Client_ID} LIMIT 1)  as cliente,
acc.name as esquema,

--cabecera
fromwarehousename as almacen,
(SELECT reftrl.name FROM ad_ref_list_trl reftrl
JOIN ad_ref_list refl on reftrl.ad_ref_list_id = refl.ad_ref_list_id
JOIN ad_reference ree on refl.ad_reference_id = ree.ad_reference_id
WHERE ree.name = 'C_AcctSchema Costing Method'
AND acc.costingmethod= refl.value ) as metodo,
pr.value as codprod,
(SELECT reftrl.description FROM ad_ref_list_trl reftrl
JOIN ad_ref_list refl on reftrl.ad_ref_list_id = refl.ad_ref_list_id
JOIN ad_reference ree on refl.ad_reference_id = ree.ad_reference_id
WHERE ree.name = 'M_Product_ProductType_Tax'
AND pr.producttypetax= refl.value ) as tipo,
pr.name as descripcion,
uom.codsunat as oumcod,
uom.name as uomname,

--detalle
'1900/01/01' as fecha,
null as docsunat,
null as docname,
'Saldo Inicial' as numero,
null as tipoop,
CASE WHEN SUM(m.qtysource)>0  THEN SUM(m.qtysource) ELSE 0 END as ingreso,
CASE WHEN SUM(m.qtysource)>0  THEN SUM(m.qtysource*m.priceactual)/SUM(m.qtysource) ELSE 0 END as precioingreso,
CASE WHEN SUM(m.qtysource)>0  THEN SUM(m.qtysource*m.priceactual) ELSE 0 END as totalingreso,
CASE WHEN SUM(m.qtysource)<0  THEN SUM(m.qtysource)*-1 ELSE 0 END as egreso,
CASE WHEN SUM(m.qtysource)<0  THEN SUM(m.qtysource*m.priceactual)/SUM(m.qtysource)*-1 ELSE 0 END as precioegreso,
CASE WHEN SUM(m.qtysource)<0  THEN SUM(m.qtysource*m.priceactual)*-1 ELSE 0 END as totalegreso

FROM
fact_acct f
JOIN c_period p on f.c_period_id = p.c_period_id
JOIN ad_client c on f.ad_client_id = c.ad_client_id
JOIN ad_org o on f.ad_org_id = o.ad_org_id
JOIN ad_orginfo oi on o.ad_org_id = oi.ad_org_id
JOIN c_acctschema acc on f.c_acctschema_id = acc.c_acctschema_id
JOIN m_carding m on (m.record_id = f.record_id
		and m.ad_table_id = f.ad_table_id)
JOIN m_product pr on m.m_product_id = pr.m_product_id
JOIN c_doctype dt on m.c_doctype_id = dt.c_doctype_id
JOIN c_uom uom on uom.c_uom_id = pr.c_uom_id

WHERE f.ad_client_id = $P{AD_Client_ID}
AND (CASE WHEN COALESCE($P{AD_Org_ID}, 0)  = 0
       THEN true
       ELSE f.ad_org_id = $P{AD_Org_ID} END)
AND f.c_acctschema_id = $P{C_AcctSchema_ID}
AND p.c_year_id = (SELECT p.c_year_id FROM c_period p WHERE p.c_period_id = $P{C_Period_ID})
AND p.periodno < (SELECT p.periodno FROM c_period p WHERE p.c_period_id = $P{C_Period_ID})
AND (CASE WHEN COALESCE($P{M_Product_ID}, 0)  = 0
       THEN true
       ELSE m.m_product_id = $P{M_Product_ID} END)
AND m.fromwarehouse_id = $P{M_Warehouse_ID}
AND (CASE WHEN m.qtysource>0
       THEN f.amtacctdr <> 0
       ELSE f.amtacctcr <> 0 END)

GROUP BY p.name,acc.name,pr.value,pr.producttypetax,pr.name,uom.codsunat,uom.name,fromwarehousename,acc.costingmethod

UNION
-- MOVIMIENTOS
SELECT
--titulo
p.name as periodo,
(SELECT CASE WHEN $P{AD_Org_ID}=0 THEN ci.taxid ELSE oi.taxid END FROM ad_orginfo oi
JOIN ad_clientinfo ci on ci.ad_client_id = oi.ad_client_id
WHERE ci.ad_client_id = $P{AD_Client_ID} LIMIT 1)  as ruc,
(SELECT CASE WHEN $P{AD_Org_ID}=0 THEN c.description ELSE o.description END FROM ad_org o
JOIN ad_client c on c.ad_client_id = o.ad_client_id
WHERE c.ad_client_id = $P{AD_Client_ID} LIMIT 1)  as cliente,
acc.name as esquema,

--cabecera
fromwarehousename as almacen,
(SELECT reftrl.name FROM ad_ref_list_trl reftrl
JOIN ad_ref_list refl on reftrl.ad_ref_list_id = refl.ad_ref_list_id
JOIN ad_reference ree on refl.ad_reference_id = ree.ad_reference_id
WHERE ree.name = 'C_AcctSchema Costing Method'
AND acc.costingmethod= refl.value ) as metodo,
pr.value as codprod,
(SELECT reftrl.description FROM ad_ref_list_trl reftrl
JOIN ad_ref_list refl on reftrl.ad_ref_list_id = refl.ad_ref_list_id
JOIN ad_reference ree on refl.ad_reference_id = ree.ad_reference_id
WHERE ree.name = 'M_Product_ProductType_Tax'
AND pr.producttypetax= refl.value ) as tipo,
pr.name as descripcion,
uom.codsunat as oumcod,
uom.name as uomname,

--detalle
m.movementdate as fecha,
dt.codsunat as docsunat,
m.doctypename as docname,
(SELECT CASE WHEN m.ad_table_id = 319 THEN mio.documentno
	WHEN m.ad_table_id = 323 THEN mtv.documentno
	WHEN m.ad_table_id = 321 THEN minv.documentno
	WHEN m.ad_table_id = 325 THEN mpro.documentno END) as numero,
(SELECT reftrl.description FROM ad_ref_list_trl reftrl
JOIN ad_ref_list refl on reftrl.ad_ref_list_id = refl.ad_ref_list_id
JOIN ad_reference ree on refl.ad_reference_id = ree.ad_reference_id
WHERE ree.name = 'M_Transaction Movement Type'
AND m.movementtype = refl.value ) as tipoop,
CASE WHEN m.qtysource>0  THEN m.qtysource ELSE 0 END as ingreso,
CASE WHEN m.qtysource>0  THEN m.priceactual ELSE 0 END as precioingreso,
CASE WHEN m.qtysource>0  THEN m.priceactual*m.qtysource ELSE 0 END as totalingreso,
CASE WHEN m.qtysource<0  THEN m.qtysource*-1 ELSE 0 END as egreso,
CASE WHEN m.qtysource<0  THEN m.priceactual ELSE 0 END as precioegreso,
CASE WHEN m.qtysource<0  THEN m.priceactual*m.qtysource*-1 ELSE 0 END as totalegreso

--select * from m_Carding
FROM
fact_acct f
JOIN c_period p on f.c_period_id = p.c_period_id
JOIN ad_client c on f.ad_client_id = c.ad_client_id
JOIN ad_org o on f.ad_org_id = o.ad_org_id
JOIN ad_orginfo oi on o.ad_org_id = oi.ad_org_id
JOIN c_acctschema acc on f.c_acctschema_id = acc.c_acctschema_id
JOIN m_carding m on (m.record_id = f.record_id
		and m.ad_table_id = f.ad_table_id)
JOIN m_product pr on m.m_product_id = pr.m_product_id
JOIN c_doctype dt on m.c_doctype_id = dt.c_doctype_id
JOIN c_uom uom on uom.c_uom_id = pr.c_uom_id
LEFT JOIN m_inout mio on m.record_id = mio.m_inout_id
LEFT JOIN m_movement mtv on m.record_id = mtv.m_movement_id
LEFT JOIN m_inventory minv on m.record_id = minv.m_inventory_id
LEFT JOIN m_production mpro on m.record_id = mpro.m_production_id

WHERE f.ad_client_id = $P{AD_Client_ID}
AND (CASE WHEN COALESCE($P{AD_Org_ID}, 0)  = 0
       THEN true
       ELSE f.ad_org_id = $P{AD_Org_ID} END)
AND f.c_acctschema_id = $P{C_AcctSchema_ID}
AND f.c_period_id = $P{C_Period_ID}
AND (CASE WHEN COALESCE($P{M_Product_ID}, 0)  = 0
       THEN true
       ELSE m.m_product_id = $P{M_Product_ID} END)
AND m.fromwarehouse_id = $P{M_Warehouse_ID}
AND (CASE WHEN m.qtysource>0
       THEN f.amtacctdr <> 0
       ELSE f.amtacctcr <> 0 END)
ORDER BY 8, 13]]></queryString>
  <field name="periodo" class="java.lang.String" />
  <field name="ruc" class="java.lang.String" />
  <field name="cliente" class="java.lang.String" />
  <field name="esquema" class="java.lang.String" />
  <field name="almacen" class="java.lang.String" />
  <field name="metodo" class="java.lang.String" />
  <field name="codprod" class="java.lang.String" />
  <field name="tipo" class="java.lang.String" />
  <field name="descripcion" class="java.lang.String" />
  <field name="oumcod" class="java.lang.String" />
  <field name="uomname" class="java.lang.String" />
  <field name="fecha" class="java.sql.Timestamp" />
  <field name="docsunat" class="java.lang.String" />
  <field name="docname" class="java.lang.String" />
  <field name="numero" class="java.lang.String" />
  <field name="tipoop" class="java.lang.String" />
  <field name="ingreso" class="java.math.BigDecimal" />
  <field name="precioingreso" class="java.math.BigDecimal" />
  <field name="totalingreso" class="java.math.BigDecimal" />
  <field name="egreso" class="java.math.BigDecimal" />
  <field name="precioegreso" class="java.math.BigDecimal" />
  <field name="totalegreso" class="java.math.BigDecimal" />
  <variable name="SumaIngreso" class="java.math.BigDecimal" resetType="Group" resetGroup="Producto" calculation="Sum">
    <variableExpression><![CDATA[$F{ingreso}]]></variableExpression>
  </variable>
  <variable name="SumaEgreso" class="java.math.BigDecimal" resetType="Group" resetGroup="Producto" calculation="Sum">
    <variableExpression><![CDATA[$F{egreso}]]></variableExpression>
  </variable>
  <variable name="SumaSaldo" class="java.math.BigDecimal" resetType="Group" resetGroup="Producto">
    <variableExpression><![CDATA[$V{SumaIngreso}.subtract($V{SumaEgreso})]]></variableExpression>
  </variable>
  <variable name="SumaTotalIngreso" class="java.math.BigDecimal" resetType="Group" resetGroup="Producto" calculation="Sum">
    <variableExpression><![CDATA[$F{totalingreso}]]></variableExpression>
  </variable>
  <variable name="SumaTotalEgreso" class="java.math.BigDecimal" resetType="Group" resetGroup="Producto" calculation="Sum">
    <variableExpression><![CDATA[$F{totalegreso}]]></variableExpression>
  </variable>
  <variable name="SumaTotalSaldo" class="java.math.BigDecimal" resetType="Group" resetGroup="Producto">
    <variableExpression><![CDATA[$V{SumaTotalIngreso}.subtract($V{SumaTotalEgreso})]]></variableExpression>
  </variable>
  <variable name="PrecioPromedio" class="java.math.BigDecimal" resetType="Group" resetGroup="Producto">
    <variableExpression><![CDATA[$V{SumaSaldo}.compareTo(new BigDecimal("0.00"))>0 ?$V{SumaTotalSaldo}.divide($V{SumaSaldo},10,4):new BigDecimal ("0.00")]]></variableExpression>
  </variable>
  <group name="Producto">
    <groupExpression><![CDATA[$F{codprod}]]></groupExpression>
    <groupHeader>
      <band height="29">
        <staticText>
          <reportElement key="staticText-4" x="14" y="3" width="82" height="12" uuid="cda7eac8-344e-4c65-8ae7-bacd904172af" />
          <textElement>
            <font size="6" isBold="true" />
          </textElement>
          <text><![CDATA[CODIGO DE EXISRENCIA]]></text>
        </staticText>
        <staticText>
          <reportElement key="staticText-7" x="266" y="3" width="5" height="12" uuid="0100d565-929f-48f2-8cc5-0364da1db083" />
          <textElement>
            <font size="6" isBold="true" />
          </textElement>
          <text><![CDATA[:]]></text>
        </staticText>
        <textField isBlankWhenNull="false">
          <reportElement key="textField" x="270" y="3" width="119" height="12" uuid="6a40521a-8623-4fcd-9d11-259e5943d01e" />
          <textElement>
            <font size="6" isBold="true" />
          </textElement>
          <textFieldExpression><![CDATA[$F{descripcion}]]></textFieldExpression>
        </textField>
        <textField isBlankWhenNull="false">
          <reportElement key="textField" x="102" y="3" width="108" height="12" uuid="d7cbf55b-4f4f-4777-928a-6eedc98ef3e3" />
          <textElement>
            <font size="6" isBold="true" />
          </textElement>
          <textFieldExpression><![CDATA[$F{codprod}]]></textFieldExpression>
        </textField>
        <staticText>
          <reportElement key="staticText-7" x="96" y="3" width="5" height="12" uuid="5fcdb7ed-57d4-4e9e-9166-4afcba9fa8bd" />
          <textElement>
            <font size="6" isBold="true" />
          </textElement>
          <text><![CDATA[:]]></text>
        </staticText>
        <staticText>
          <reportElement key="staticText-4" x="211" y="3" width="56" height="12" uuid="75f2a0ad-b2f0-494c-bcc8-cced221c455b" />
          <textElement>
            <font size="6" isBold="true" />
          </textElement>
          <text><![CDATA[DESCRIPCIÓN]]></text>
        </staticText>
        <textField isBlankWhenNull="false">
          <reportElement key="textField" x="269" y="14" width="120" height="12" uuid="cb7aecef-dca1-49bf-a6ea-a0ef7d3aa94b" />
          <textElement>
            <font size="6" isBold="true" />
          </textElement>
          <textFieldExpression><![CDATA[$F{tipo}]]></textFieldExpression>
        </textField>
        <staticText>
          <reportElement key="staticText-4" x="14" y="14" width="82" height="12" uuid="741dfcca-3598-40d0-a29b-09ed050123a7" />
          <textElement>
            <font size="6" isBold="true" />
          </textElement>
          <text><![CDATA[COD. UNIDAD DE MEDIDA]]></text>
        </staticText>
        <staticText>
          <reportElement key="staticText-7" x="96" y="14" width="5" height="12" uuid="0789d53f-65fb-4e41-9e21-13484af73b30" />
          <textElement>
            <font size="6" isBold="true" />
          </textElement>
          <text><![CDATA[:]]></text>
        </staticText>
        <textField isBlankWhenNull="false">
          <reportElement key="textField" x="102" y="14" width="28" height="12" uuid="f1d39eb6-e921-4eb7-920c-36e9b426a550" />
          <textElement>
            <font size="6" isBold="true" />
          </textElement>
          <textFieldExpression><![CDATA[$F{oumcod}]]></textFieldExpression>
        </textField>
        <staticText>
          <reportElement key="staticText-7" x="129" y="14" width="5" height="12" uuid="faecf286-c6d7-4aea-a0ba-18fb4db0453d" />
          <textElement>
            <font size="6" isBold="true" />
          </textElement>
          <text><![CDATA[-]]></text>
        </staticText>
        <textField isBlankWhenNull="false">
          <reportElement key="textField" x="135" y="13" width="75" height="12" uuid="a3cb9652-50c1-4593-8e4b-8e57d4e0a6c0" />
          <textElement>
            <font size="6" isBold="true" />
          </textElement>
          <textFieldExpression><![CDATA[$F{uomname}]]></textFieldExpression>
        </textField>
        <staticText>
          <reportElement key="staticText-4" x="211" y="14" width="55" height="12" uuid="07f7c0b4-78ae-4130-9b29-b3ef22c119e6" />
          <textElement>
            <font size="6" isBold="true" />
          </textElement>
          <text><![CDATA[TIPO]]></text>
        </staticText>
        <staticText>
          <reportElement key="staticText-7" x="266" y="14" width="5" height="12" uuid="9ce2d890-bbae-4b7e-b2ec-a3564501903e" />
          <textElement>
            <font size="6" isBold="true" />
          </textElement>
          <text><![CDATA[:]]></text>
        </staticText>
      </band>
    </groupHeader>
    <groupFooter>
      <band height="18">
        <textField pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
          <reportElement x="221" y="3" width="31" height="12" uuid="0546f216-00f7-4407-8a85-5b2ec4d628f0" />
          <textElement textAlignment="Right">
            <font size="6" isBold="true" />
          </textElement>
          <textFieldExpression><![CDATA[$V{SumaIngreso}]]></textFieldExpression>
        </textField>
        <textField pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
          <reportElement x="324" y="3" width="31" height="12" uuid="f335dd6e-09e7-4ab5-9c01-e44e97c4839e" />
          <textElement textAlignment="Right">
            <font size="6" isBold="true" />
          </textElement>
          <textFieldExpression><![CDATA[$V{SumaEgreso}]]></textFieldExpression>
        </textField>
        <textField pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
          <reportElement x="430" y="3" width="29" height="12" uuid="f076549c-a388-4afb-97f8-6f3da3264370" />
          <textElement textAlignment="Right">
            <font size="6" isBold="true" />
          </textElement>
          <textFieldExpression><![CDATA[$V{SumaSaldo}]]></textFieldExpression>
        </textField>
        <textField pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
          <reportElement x="280" y="3" width="44" height="12" uuid="257ab46e-6988-490d-a74f-1bbfd67b5718" />
          <textElement textAlignment="Right">
            <font size="6" isBold="true" />
          </textElement>
          <textFieldExpression><![CDATA[$V{SumaTotalIngreso}]]></textFieldExpression>
        </textField>
        <textField pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
          <reportElement x="387" y="3" width="44" height="12" uuid="7d118c4e-5754-4d05-a347-0d74e3067eee" />
          <textElement textAlignment="Right">
            <font size="6" isBold="true" />
          </textElement>
          <textFieldExpression><![CDATA[$V{SumaTotalEgreso}]]></textFieldExpression>
        </textField>
        <textField pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
          <reportElement x="490" y="3" width="44" height="12" uuid="7375f6a5-d83b-4106-adbe-0438dc3df53e" />
          <textElement textAlignment="Right">
            <font size="6" isBold="true" />
          </textElement>
          <textFieldExpression><![CDATA[$V{SumaTotalSaldo}]]></textFieldExpression>
        </textField>
        <textField pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
          <reportElement x="465" y="3" width="20" height="12" uuid="f786cbd7-9607-4d43-a1c7-65ff91d9cdcc" />
          <textElement textAlignment="Right">
            <font size="6" isBold="true" />
          </textElement>
          <textFieldExpression><![CDATA[$V{PrecioPromedio}]]></textFieldExpression>
        </textField>
      </band>
    </groupFooter>
  </group>
  <background>
    <band splitType="Stretch" />
  </background>
  <title>
    <band height="66" splitType="Stretch">
      <staticText>
        <reportElement key="staticText-1" x="10" y="6" width="525" height="40" uuid="8748dd17-b613-4d3e-8ae3-87f62ef3fbb4" />
        <textElement textAlignment="Center">
          <font size="12" isBold="true" isUnderline="false" pdfFontName="Helvetica-Bold" />
        </textElement>
        <text><![CDATA[FORMATO 13.1 : "Registro del Inventario Permanente Valorizdo - Detalle del Inventario Valorizado"]]></text>
      </staticText>
      <textField isBlankWhenNull="false">
        <reportElement key="textField-1" x="137" y="42" width="258" height="20" uuid="bef96be5-af3e-4aa4-bdcd-9a3018c93e1e" />
        <textElement textAlignment="Center">
          <font size="8" />
        </textElement>
        <textFieldExpression><![CDATA[$F{esquema}]]></textFieldExpression>
      </textField>
    </band>
  </title>
  <pageHeader>
    <band height="119" splitType="Stretch">
      <rectangle>
        <reportElement key="rectangle-1" x="0" y="76" width="535" height="39" uuid="5075c500-7740-4fe3-8964-d835f82a3581" />
      </rectangle>
      <line>
        <reportElement key="line-1" x="1" y="99" width="174" height="1" uuid="d6faa9a1-29c7-43d7-a5be-eb4560ebfd93" />
      </line>
      <line>
        <reportElement key="line-2" x="324" y="76" width="1" height="39" uuid="4f023b76-f42d-423b-9356-a2b2c6161ebf" />
      </line>
      <line>
        <reportElement key="line-3" x="175" y="76" width="1" height="39" uuid="d48f72c4-0c0c-47c4-9c20-7b1829d09924" />
      </line>
      <line>
        <reportElement key="line-4" x="33" y="99" width="1" height="16" uuid="4e4691db-e7c5-4f28-9503-cb362a8084e8" />
      </line>
      <line>
        <reportElement key="line-7" x="429" y="76" width="1" height="39" uuid="ff999940-d421-492e-b51a-434c3c99db96" />
      </line>
      <staticText>
        <reportElement key="staticText-8" x="1" y="76" width="174" height="23" uuid="503dd7f7-07e7-445f-b2f0-5e9ccef1482a" />
        <textElement textAlignment="Center" verticalAlignment="Middle">
          <font size="7" isBold="true" />
        </textElement>
        <text><![CDATA[Documento de Transalado, Comprobandte de Pago, Documento Interno o Similar]]></text>
      </staticText>
      <staticText>
        <reportElement key="staticText-10" x="430" y="77" width="105" height="24" uuid="ffb4525a-5af8-460f-9525-7519bcc94e6c" />
        <textElement textAlignment="Center" verticalAlignment="Middle">
          <font size="7" isBold="true" />
        </textElement>
        <text><![CDATA[Saldo Final]]></text>
      </staticText>
      <staticText>
        <reportElement key="staticText-16" x="0" y="101" width="33" height="14" uuid="3868fad4-4143-45cd-a1e7-1f4173d74957" />
        <textElement textAlignment="Center" verticalAlignment="Middle">
          <font size="7" isBold="true" />
        </textElement>
        <text><![CDATA[Fecha]]></text>
      </staticText>
      <staticText>
        <reportElement key="staticText-3" x="14" y="17" width="77" height="12" uuid="50d66569-6967-4c7b-8a2f-e8e378307329" />
        <textElement>
          <font size="8" />
        </textElement>
        <text><![CDATA[RUC]]></text>
      </staticText>
      <staticText>
        <reportElement key="staticText-4" x="14" y="30" width="77" height="12" uuid="b85e24ca-98f4-4907-aa7a-863454b325aa" />
        <textElement>
          <font size="8" />
        </textElement>
        <text><![CDATA[RAZÓN SOCIAL]]></text>
      </staticText>
      <staticText>
        <reportElement key="staticText-5" x="91" y="4" width="5" height="12" uuid="16c8c971-d878-4bcc-af0f-5ad663106b9e" />
        <textElement>
          <font size="8" />
        </textElement>
        <text><![CDATA[:]]></text>
      </staticText>
      <staticText>
        <reportElement key="staticText-6" x="91" y="17" width="5" height="12" uuid="11b4e79a-3910-4e43-8a47-3e26f4ceca5e" />
        <textElement>
          <font size="8" />
        </textElement>
        <text><![CDATA[:]]></text>
      </staticText>
      <staticText>
        <reportElement key="staticText-7" x="91" y="30" width="5" height="12" uuid="2b7b7e4d-ded1-4894-a46c-e3440abc40d2" />
        <textElement>
          <font size="8" />
        </textElement>
        <text><![CDATA[:]]></text>
      </staticText>
      <textField isBlankWhenNull="false">
        <reportElement key="textField" x="95" y="4" width="202" height="12" uuid="5c69291e-7f3a-43f3-af20-c51a14640abe" />
        <textElement>
          <font size="8" />
        </textElement>
        <textFieldExpression><![CDATA[$F{periodo}]]></textFieldExpression>
      </textField>
      <textField isBlankWhenNull="false">
        <reportElement key="textField" x="95" y="17" width="202" height="12" uuid="6085ac89-feff-42f4-8e0b-7d15c55dd72d" />
        <textElement>
          <font size="8" />
        </textElement>
        <textFieldExpression><![CDATA[$F{ruc}]]></textFieldExpression>
      </textField>
      <textField isBlankWhenNull="false">
        <reportElement key="textField" x="95" y="30" width="202" height="12" uuid="2b19dd29-8d2c-4712-83b7-a7af07816be6" />
        <textElement>
          <font size="8" />
        </textElement>
        <textFieldExpression><![CDATA[$F{cliente}]]></textFieldExpression>
      </textField>
      <staticText>
        <reportElement key="staticText-2" x="14" y="4" width="77" height="12" uuid="bf1c1915-de8f-43cb-a5f7-1e1e9fde01ea" />
        <textElement>
          <font size="8" />
        </textElement>
        <text><![CDATA[PERIODO]]></text>
      </staticText>
      <textField isBlankWhenNull="false">
        <reportElement key="textField" x="95" y="43" width="202" height="12" uuid="60f26741-c13d-49f8-a1fe-ef3a812bd62a" />
        <textElement>
          <font size="8" />
        </textElement>
        <textFieldExpression><![CDATA[$F{almacen}]]></textFieldExpression>
      </textField>
      <staticText>
        <reportElement key="staticText-4" x="14" y="43" width="77" height="12" uuid="8a883f90-e461-4377-9e7a-3600e2459dac" />
        <textElement>
          <font size="8" />
        </textElement>
        <text><![CDATA[ESTABLECIMIENTO]]></text>
      </staticText>
      <staticText>
        <reportElement key="staticText-7" x="91" y="43" width="5" height="12" uuid="77a1bed5-cac7-4a3f-8a0d-d8b77757d96c" />
        <textElement>
          <font size="8" />
        </textElement>
        <text><![CDATA[:]]></text>
      </staticText>
      <staticText>
        <reportElement key="staticText-10" x="324" y="77" width="105" height="22" uuid="8e18782a-70a9-44be-9f9a-dc2cf9caeaee" />
        <textElement textAlignment="Center" verticalAlignment="Middle">
          <font size="7" isBold="true" />
        </textElement>
        <text><![CDATA[Salidas]]></text>
      </staticText>
      <staticText>
        <reportElement key="staticText-10" x="221" y="76" width="105" height="23" uuid="95ae9e63-8396-4e31-b2b3-d3af3af47f2b" />
        <textElement textAlignment="Center" verticalAlignment="Middle">
          <font size="7" isBold="true" />
        </textElement>
        <text><![CDATA[Entradas]]></text>
      </staticText>
      <line>
        <reportElement key="line-2" x="220" y="76" width="1" height="39" uuid="7caeb53d-bedb-4772-a9eb-8a5e110c2276" />
      </line>
      <staticText>
        <reportElement key="staticText-10" x="176" y="85" width="44" height="24" uuid="e13fa775-003b-48f4-87d2-63ba1196ca82" />
        <textElement textAlignment="Center" verticalAlignment="Middle">
          <font size="7" isBold="true" />
        </textElement>
        <text><![CDATA[Tipo de Operación]]></text>
      </staticText>
      <staticText>
        <reportElement key="staticText-16" x="34" y="101" width="50" height="14" uuid="aff2d04a-c75f-4a06-9447-bb310a97c282" />
        <textElement textAlignment="Center" verticalAlignment="Middle">
          <font size="7" isBold="true" />
        </textElement>
        <text><![CDATA[Tipo]]></text>
      </staticText>
      <line>
        <reportElement key="line-4" x="83" y="99" width="1" height="16" uuid="d43692d7-3f2c-48d9-8114-a795f96f9ca0" />
      </line>
      <line>
        <reportElement key="line-4" x="116" y="99" width="1" height="16" uuid="04f9038d-d6c0-4063-8115-b6949e6b97dd" />
      </line>
      <staticText>
        <reportElement key="staticText-16" x="84" y="101" width="33" height="14" uuid="c0c57323-5ec9-43a8-9d1f-67f99c7f3e7d" />
        <textElement textAlignment="Center" verticalAlignment="Middle">
          <font size="7" isBold="true" />
        </textElement>
        <text><![CDATA[Serie]]></text>
      </staticText>
      <staticText>
        <reportElement key="staticText-16" x="118" y="101" width="57" height="14" uuid="6f2a1111-b545-422b-a8b4-7204ae9cd274" />
        <textElement textAlignment="Center" verticalAlignment="Middle">
          <font size="7" isBold="true" />
        </textElement>
        <text><![CDATA[Número]]></text>
      </staticText>
      <staticText>
        <reportElement key="staticText-7" x="91" y="56" width="5" height="12" uuid="7dbb43cc-4578-4c82-b7ee-67e4009a1689" />
        <textElement>
          <font size="8" />
        </textElement>
        <text><![CDATA[:]]></text>
      </staticText>
      <textField isBlankWhenNull="false">
        <reportElement key="textField" x="95" y="56" width="202" height="12" uuid="5c2317c1-304e-4005-92b0-4e50762f524e" />
        <textElement>
          <font size="8" />
        </textElement>
        <textFieldExpression><![CDATA[$F{metodo}]]></textFieldExpression>
      </textField>
      <staticText>
        <reportElement key="staticText-4" x="14" y="56" width="77" height="12" uuid="dfd1675e-3c77-4cfa-961e-c1ba3e4bf67c" />
        <textElement>
          <font size="8" />
        </textElement>
        <text><![CDATA[MED. VALUACION]]></text>
      </staticText>
      <line>
        <reportElement key="line-1" x="220" y="98" width="315" height="1" uuid="ebfc8937-58aa-41a0-b9c8-b39c1c942557" />
      </line>
      <staticText>
        <reportElement key="staticText-16" x="221" y="100" width="29" height="14" uuid="009e1f64-dcfd-4254-8686-1e8b493dbb1a" />
        <textElement textAlignment="Center" verticalAlignment="Middle">
          <font size="7" isBold="true" />
        </textElement>
        <text><![CDATA[Cant.]]></text>
      </staticText>
      <staticText>
        <reportElement key="staticText-16" x="324" y="100" width="29" height="14" uuid="e09446e4-8973-49f9-845f-f273ecbc3550" />
        <textElement textAlignment="Center" verticalAlignment="Middle">
          <font size="7" isBold="true" />
        </textElement>
        <text><![CDATA[Cant.]]></text>
      </staticText>
      <staticText>
        <reportElement key="staticText-16" x="429" y="100" width="29" height="14" uuid="77df7750-7466-4eff-b677-6e9106e01e8c" />
        <textElement textAlignment="Center" verticalAlignment="Middle">
          <font size="7" isBold="true" />
        </textElement>
        <text><![CDATA[Cant.]]></text>
      </staticText>
      <line>
        <reportElement key="line-4" x="250" y="99" width="1" height="16" uuid="6a5bcc4f-5fca-4197-b902-8eae5e4bb8aa" />
      </line>
      <line>
        <reportElement key="line-4" x="353" y="99" width="1" height="16" uuid="9773fe9e-fe49-456b-858d-8675b91427d0" />
      </line>
      <line>
        <reportElement key="line-4" x="457" y="99" width="1" height="16" uuid="79fb56cc-c479-4ce0-97b7-f304a6f1a318" />
      </line>
      <staticText>
        <reportElement key="staticText-16" x="251" y="100" width="29" height="14" uuid="4b9798c7-8d95-40c1-9bc8-6a0f15e6f730" />
        <textElement textAlignment="Center" verticalAlignment="Middle">
          <font size="7" isBold="true" />
        </textElement>
        <text><![CDATA[C. Unit]]></text>
      </staticText>
      <staticText>
        <reportElement key="staticText-16" x="354" y="100" width="29" height="14" uuid="73eb843b-ea38-4b0f-b0f8-f8e93bc4bbf6" />
        <textElement textAlignment="Center" verticalAlignment="Middle">
          <font size="7" isBold="true" />
        </textElement>
        <text><![CDATA[C. Unit]]></text>
      </staticText>
      <staticText>
        <reportElement key="staticText-16" x="458" y="100" width="29" height="14" uuid="930ab9e8-925c-4fe1-b5f5-0dcff639e34d" />
        <textElement textAlignment="Center" verticalAlignment="Middle">
          <font size="7" isBold="true" />
        </textElement>
        <text><![CDATA[C. Unit]]></text>
      </staticText>
      <line>
        <reportElement key="line-4" x="280" y="99" width="1" height="16" uuid="bd7eddad-09f5-4143-baed-cf21b701ef2a" />
      </line>
      <line>
        <reportElement key="line-4" x="383" y="99" width="1" height="16" uuid="98261e57-4e41-4fec-b0cb-827946ead62f" />
      </line>
      <line>
        <reportElement key="line-4" x="487" y="99" width="1" height="16" uuid="349983ed-61bd-4f56-ba25-d290e38de9f0" />
      </line>
      <staticText>
        <reportElement key="staticText-16" x="281" y="100" width="43" height="14" uuid="f5287e1e-f985-4012-b541-3c7724261a72" />
        <textElement textAlignment="Center" verticalAlignment="Middle">
          <font size="7" isBold="true" />
        </textElement>
        <text><![CDATA[C. Total]]></text>
      </staticText>
      <staticText>
        <reportElement key="staticText-16" x="385" y="100" width="43" height="14" uuid="e323f9ba-fba6-4a97-881e-43d6898b7d28" />
        <textElement textAlignment="Center" verticalAlignment="Middle">
          <font size="7" isBold="true" />
        </textElement>
        <text><![CDATA[C. Total]]></text>
      </staticText>
      <staticText>
        <reportElement key="staticText-16" x="490" y="100" width="43" height="14" uuid="7f5a04cb-9931-43ed-ae76-271900e6ea8c" />
        <textElement textAlignment="Center" verticalAlignment="Middle">
          <font size="7" isBold="true" />
        </textElement>
        <text><![CDATA[C. Total]]></text>
      </staticText>
    </band>
  </pageHeader>
  <columnHeader>
    <band splitType="Stretch" />
  </columnHeader>
  <detail>
    <band height="20" splitType="Stretch">
      <textField isBlankWhenNull="true">
        <reportElement x="36" y="3" width="8" height="12" uuid="04ac8f5e-2985-4c3b-9100-49028c6ea6b4" />
        <textElement>
          <font size="6" />
        </textElement>
        <textFieldExpression><![CDATA[$F{docsunat}]]></textFieldExpression>
      </textField>
      <staticText>
        <reportElement key="staticText-7" x="44" y="3" width="5" height="12" uuid="35a3f450-1c4c-4e0b-a8c5-87bc0ccda576" />
        <textElement>
          <font size="6" />
        </textElement>
        <text><![CDATA[-]]></text>
      </staticText>
      <textField isBlankWhenNull="true">
        <reportElement x="48" y="3" width="40" height="12" uuid="d80de4b1-036a-44a4-86e1-956f6e3c8a0f" />
        <textElement>
          <font size="6" />
        </textElement>
        <textFieldExpression><![CDATA[$F{docname}]]></textFieldExpression>
      </textField>
      <textField isBlankWhenNull="true">
        <reportElement x="119" y="3" width="45" height="12" uuid="bbe42d34-2aa5-4ed2-87d4-606b16719bbe" />
        <textElement>
          <font size="6" />
        </textElement>
        <textFieldExpression><![CDATA[$F{numero}]]></textFieldExpression>
      </textField>
      <textField isBlankWhenNull="true">
        <reportElement x="179" y="3" width="42" height="12" uuid="30df7347-7b10-40e5-82a1-686a5c77bcad" />
        <textElement>
          <font size="6" />
        </textElement>
        <textFieldExpression><![CDATA[$F{tipoop}]]></textFieldExpression>
      </textField>
      <textField pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
        <reportElement x="324" y="3" width="31" height="12" uuid="babd8e78-a04b-4482-b643-c9167f484db0" />
        <textElement textAlignment="Right">
          <font size="6" />
        </textElement>
        <textFieldExpression><![CDATA[$F{egreso}]]></textFieldExpression>
      </textField>
      <textField pattern="#,##0.00;-#,##0.00">
        <reportElement x="430" y="3" width="29" height="12" uuid="335b3141-4115-4456-8e31-2e1cf47a3d95" />
        <textElement textAlignment="Right">
          <font size="6" />
        </textElement>
        <textFieldExpression><![CDATA[$V{SumaSaldo}]]></textFieldExpression>
      </textField>
      <textField pattern="dd/MM/yyyy" isBlankWhenNull="true">
        <reportElement x="0" y="3" width="35" height="12" uuid="2bf2c1b9-41d7-44fa-9122-50c9d2d6fb14" />
        <textElement>
          <font size="6" />
        </textElement>
        <textFieldExpression><![CDATA[$F{fecha} == java.sql.Timestamp.valueOf("1900-01-01 00:00:00")?null:$F{fecha}]]></textFieldExpression>
      </textField>
      <textField pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
        <reportElement x="221" y="3" width="31" height="12" uuid="0b404259-995e-4945-b657-1ce2055e2f20" />
        <textElement textAlignment="Right">
          <font size="6" />
        </textElement>
        <textFieldExpression><![CDATA[$F{ingreso}]]></textFieldExpression>
      </textField>
      <textField pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
        <reportElement x="254" y="3" width="20" height="12" uuid="b96f2caf-e694-45e5-ba93-be760fa048dd" />
        <textElement textAlignment="Right">
          <font size="6" />
        </textElement>
        <textFieldExpression><![CDATA[$F{precioingreso}]]></textFieldExpression>
      </textField>
      <textField pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
        <reportElement x="357" y="3" width="20" height="12" uuid="006d814a-c8e3-4cb3-8ac4-ef4032ddc710" />
        <textElement textAlignment="Right">
          <font size="6" />
        </textElement>
        <textFieldExpression><![CDATA[$F{precioegreso}]]></textFieldExpression>
      </textField>
      <textField pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
        <reportElement x="280" y="3" width="44" height="12" uuid="7d4ef3e6-60e7-41e5-a7be-7c0407c88008" />
        <textElement textAlignment="Right">
          <font size="6" />
        </textElement>
        <textFieldExpression><![CDATA[$F{totalingreso}]]></textFieldExpression>
      </textField>
      <textField pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
        <reportElement x="386" y="3" width="44" height="12" uuid="6ba5c0a1-1527-49cc-a54e-ff60c260520e" />
        <textElement textAlignment="Right">
          <font size="6" />
        </textElement>
        <textFieldExpression><![CDATA[$F{totalegreso}]]></textFieldExpression>
      </textField>
      <textField pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
        <reportElement x="490" y="3" width="44" height="12" uuid="481b2657-7a9e-46ef-8aa1-f52044a9ecea" />
        <textElement textAlignment="Right">
          <font size="6" />
        </textElement>
        <textFieldExpression><![CDATA[$V{SumaTotalSaldo}]]></textFieldExpression>
      </textField>
      <textField pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
        <reportElement x="464" y="3" width="20" height="12" uuid="58aaeb56-9278-41fd-964b-edb703958e31" />
        <textElement textAlignment="Right">
          <font size="6" />
        </textElement>
        <textFieldExpression><![CDATA[$V{PrecioPromedio}]]></textFieldExpression>
      </textField>
    </band>
  </detail>
  <columnFooter>
    <band height="25" splitType="Stretch">
      <textField evaluationTime="Report" isBlankWhenNull="false">
        <reportElement key="textField-3" x="285" y="4" width="22" height="16" uuid="c97b146f-da00-430f-9532-a600e4fa3fd3" />
        <textElement>
          <font size="6" isItalic="true" pdfFontName="Helvetica-Oblique" />
        </textElement>
        <textFieldExpression><![CDATA["" + $V{PAGE_NUMBER} + ""]]></textFieldExpression>
      </textField>
      <textField isBlankWhenNull="false">
        <reportElement key="textField-2" x="220" y="4" width="65" height="16" uuid="dad0661d-8a4d-4ac2-92ab-29a491c45190" />
        <textElement textAlignment="Right">
          <font size="6" isItalic="true" pdfFontName="Helvetica-Oblique" />
        </textElement>
        <textFieldExpression><![CDATA["Pág. " + $V{PAGE_NUMBER} + " de "]]></textFieldExpression>
      </textField>
    </band>
  </columnFooter>
  <pageFooter>
    <band splitType="Stretch" />
  </pageFooter>
  <lastPageFooter>
    <band splitType="Stretch" />
  </lastPageFooter>
  <summary>
    <band splitType="Stretch" />
  </summary>
</jasperReport>


